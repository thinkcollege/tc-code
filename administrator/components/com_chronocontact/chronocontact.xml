<?xml version="1.0"  encoding="utf-8" ?>
<install type="component" version="1.5.0" method="upgrade">
  <name>Chrono Contact</name>
  <creationDate>04.06.2009</creationDate>
  <author>Chronoman</author>
  <copyright>CC</copyright>
  <authorEmail>webmaster@chronoengine.com</authorEmail>
  <authorUrl>www.chronoengine.com</authorUrl>
  <version>3.1 RC5.1</version>
  <license>CC</license>
  <description>Create everytype of Forms with whatever features you like!!</description>
  
  <installfile>install.chronocontact.php</installfile>
  <uninstallfile>uninstall.chronocontact.php</uninstallfile>
  <files>
    <filename>chronocontact.php</filename>
    <filename>chronocontact.html.php</filename>
	<filename>chrono_verification.php</filename>
	<filename>default.ttf</filename>
	<filename>background.png</filename>
	<filename>index.html</filename>
	<folder>css</folder>
	<folder>uploads</folder>
	<folder>libraries</folder>
	<folder>js</folder>
	<folder>themes</folder>
	<folder>plugins</folder>
  </files>
  <install>
    <queries>
	  <query>DELETE FROM `#__components` WHERE `option` = 'com_chronocontact';</query>
      <query>CREATE TABLE IF NOT EXISTS `#__chrono_contact` (
           `id` INT NOT NULL AUTO_INCREMENT,
           `name` TEXT NOT NULL,
		   `html` LONGTEXT NOT NULL,
		   `scriptcode` LONGTEXT NOT NULL,
		   `stylecode` LONGTEXT NOT NULL,
		   `redirecturl` TEXT NOT NULL,
		   `emailresults` TINYINT(1) NOT NULL,
		   `fieldsnames` TEXT NOT NULL,
		   `fieldstypes` TEXT NOT NULL,
		   `onsubmitcode` LONGTEXT NOT NULL,
		   `onsubmitcodeb4` LONGTEXT NOT NULL,
		   `server_validation` LONGTEXT NOT NULL,
		   `attformtag` LONGTEXT NOT NULL,
		   `submiturl` TEXT NOT NULL,	 
		   `emailtemplate` LONGTEXT NOT NULL,	
		   `useremailtemplate` LONGTEXT NOT NULL,  
		   `paramsall` LONGTEXT NOT NULL,
		   `titlesall` LONGTEXT NOT NULL,
		   `extravalrules` LONGTEXT NOT NULL,
		   `dbclasses` LONGTEXT NOT NULL,
		   `autogenerated` LONGTEXT NOT NULL,
		   `chronocode` LONGTEXT NOT NULL,
		   `theme` TEXT NOT NULL,
           `published` TINYINT(1) NOT NULL,
		   `extra1` LONGTEXT NOT NULL,
		   `extra2` LONGTEXT NOT NULL,
		   `extra3` LONGTEXT NOT NULL,
		   `extra4` LONGTEXT NOT NULL,
		   `extra5` LONGTEXT NOT NULL,
            PRIMARY KEY (`id`) ) CHARACTER SET `utf8`
      </query>
	  <query>CREATE TABLE IF NOT EXISTS `#__chrono_contact_plugins` (
			  `id` int(11) NOT NULL auto_increment,
			  `form_id` int(11) NOT NULL,
			  `name` varchar(255) NOT NULL,
			  `event` varchar(255) NOT NULL,
			  `params` longtext NOT NULL,
			  `extra1` longtext NOT NULL,
			  `extra2` longtext NOT NULL,
			  `extra3` longtext NOT NULL,
			  `extra4` longtext NOT NULL,
			  `extra5` longtext NOT NULL,
			  `extra6` longtext NOT NULL,
			  `extra7` longtext NOT NULL,
			  `extra8` longtext NOT NULL,
			  `extra9` longtext NOT NULL,
			  `extra10` longtext NOT NULL,
			  PRIMARY KEY  (`id`)) CHARACTER SET `utf8`
      </query>
	  <query> CREATE TABLE IF NOT EXISTS `#__chrono_contact_emails` (
				`emailid` INT( 11 ) NOT NULL AUTO_INCREMENT ,
				`formid` INT( 11 ) NOT NULL ,
				`to` TEXT NOT NULL ,
				`dto` TEXT NOT NULL ,
				`subject` TEXT NOT NULL ,
				`dsubject` TEXT NOT NULL ,
				`cc` TEXT NOT NULL ,
				`dcc` TEXT NOT NULL ,
				`bcc` TEXT NOT NULL ,
				`dbcc` TEXT NOT NULL ,
				`fromname` TEXT NOT NULL ,
				`dfromname` TEXT NOT NULL ,
				`fromemail` TEXT NOT NULL ,
				`dfromemail` TEXT NOT NULL ,
				`replytoname` TEXT NOT NULL ,
				`dreplytoname` TEXT NOT NULL ,
				`replytoemail` TEXT NOT NULL ,
				`dreplytoemail` TEXT NOT NULL ,
				`enabled` TINYINT( 1 ) NOT NULL ,
				`params` LONGTEXT NOT NULL ,
				`template` LONGTEXT NOT NULL ,
				PRIMARY KEY ( `emailid` )) CHARACTER SET `utf8`
      </query>
	  <query>CREATE TABLE IF NOT EXISTS `#__chrono_contact_elements` (
			  `id` int(11) NOT NULL auto_increment,
			  `placeholder` varchar(255) NOT NULL,
			  `desc` text NOT NULL,
			  `code` longtext NOT NULL,
			  PRIMARY KEY  (`id`)) CHARACTER SET `utf8`
      </query>
    </queries>
  </install>
  <uninstall>
    <queries>
      <query>DROP TABLE IF EXISTS `#__chrono_contact`;</query>
	  <query>DROP TABLE IF EXISTS `#__chrono_contact_plugins`;</query>
	  <query>DROP TABLE IF EXISTS `#__chrono_contact_emails`;</query>
	  <query>DROP TABLE IF EXISTS `#__chrono_contact_elements`;</query>
    </queries>
  </uninstall>
  
  <administration>
    <menu img="components/com_chronocontact/CF.png">Chrono Forms</menu>
	<submenu>
          <menu act="all">Forms Management</menu>
		  <menu task="form_wizard">Form Wizard</menu>
		  <menu task="wizard_elements">Wizard Elements</menu>
		  <menu task="menu_creator">Menu Creator</menu>
		  <menu task="menu_remover">Menu Remover</menu>
		  <menu task="doupgrade">Upgrade SQL</menu>
    </submenu>
    <files folder="admin">
      <filename>admin.chronocontact.php</filename>
      <filename>admin.chronocontact.html.php</filename>
      <filename>chronocontact.class.php</filename>
      <filename>toolbar.chronocontact.php</filename>
      <filename>toolbar.chronocontact.html.php</filename>
	  <filename>CF.png</filename>
	  <filename>config.xml</filename>
	  <filename>index.html</filename>
	  <folder>css</folder>
	  <folder>js</folder>
	  <folder>tables</folder>
	  <folder>themes</folder>
	  <folder>wizardthemes</folder>
	  <folder>images</folder>
	  <folder>excelwriter</folder>
	  <folder>assets</folder>
	  <folder>helpers</folder>
	  <folder>languages</folder>
    </files>
  </administration>
  <params>
		<param name="formname" type="text" size="60" default="" label="Form name :" description="The form name to assign to this menu item, Useless at the Config screen" />
	</params>
</install>